<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js-matrix</title>
    <script src="../js/matrix.js"></script>
    <script src="../js/matrixException.js"></script>
    <script src="../js/matrixTest.js"></script>
</head>
<body>
    <script>

        /* define the global test container */
        var testContainer = {
            allTestsOK: true,
            counterTests: 0
        };


        /* start given rows are not an array */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_ROWS_IS_NO_ARRAY,
            function () {
                var matrix = new Matrix('test');
                console.log(matrix.value);
                return false;
            }
        );
        matrixTest.start();


        /* start given rows are not higher than 0 */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_ROWS_COUNT_ARRAY_WRONG,
            function () {
                var matrix = new Matrix([]);
                console.log(matrix.value);
                return false;
            }
        );
        matrixTest.start();


        /* given cols are not an array */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_COLS_IS_NO_ARRAY,
            function () {
                var matrix = new Matrix(['string']);
                console.log(matrix.value);
                return false;
            }
        );
        matrixTest.start();


        /* given cols are not an array */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_COLS_COUNT_ARRAY_WRONG,
            function () {
                var matrix = new Matrix([[], []]);
                console.log(matrix.value);
                return false;
            }
        );
        matrixTest.start();


        /* start wrong col number test */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_WRONG_COL_NUMBER,
            function () {
                var matrix = new Matrix([[1, 2], [2]]);
                console.log(matrix.value);
                return false;
            }
        );
        matrixTest.start();


        /* start initial test */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.SUCCESS_INITIALIZE_MATRIX,
            function () {
                var matrix = new Matrix([[1, 2, 3], [4, 5, 6]]);
                return (
                    matrix.getCell(0, 0) === 1 &&
                    matrix.getCell(0, 1) === 2 &&
                    matrix.getCell(0, 2) === 3 &&
                    matrix.getCell(1, 0) === 4 &&
                    matrix.getCell(1, 1) === 5 &&
                    matrix.getCell(1, 2) === 6 &&
                    matrix.numberCols === 3 &&
                    matrix.numberRows === 2
                );
            }
        );
        matrixTest.start();


        /* start addition test (wrong matrix type) */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_WRONG_MATRIX_TYPE,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = 1; /* this is not a matrix */

                var matrix3 = matrix1.addition(matrix2);

                /* the method addition should throw an exception */
                return false;
            }
        );
        matrixTest.start();


        /* start addition test (wrong matrix dimension) */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_WRONG_MATRIX_DIMENSIONS,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4], [8, 10]]); /* this matrix has the wrong dimensions */

                var matrix3 = matrix1.addition(matrix2);

                /* the method addition should throw an exception */
                return false;
            }
        );
        matrixTest.start();


        /* start addition test (correct) */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.SUCCESS_ADDITION_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4, 6], [8, 10, 12]]);

                var matrix3 = matrix1.addition(matrix2);

                return (
                    matrix3 instanceof Matrix &&
                    matrix3.getCell(0, 0) === 3 &&
                    matrix3.getCell(0, 1) === 6 &&
                    matrix3.getCell(0, 2) === 9 &&
                    matrix3.getCell(1, 0) === 12 &&
                    matrix3.getCell(1, 1) === 15 &&
                    matrix3.getCell(1, 2) === 18 &&
                    matrix3.numberCols === matrix1.numberCols &&
                    matrix3.numberRows === matrix1.numberRows
                );
            }
        );
        matrixTest.start();


        /* start scalar multiplication test (no scalar) */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.ERROR_NO_SCALAR,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4, 6], [8, 10, 12]]);

                var matrix3 = matrix1.scalarMultiplication(matrix2);

                return (
                    matrix3 instanceof Matrix &&
                    matrix3.getCell(0, 0) === 3 &&
                    matrix3.getCell(0, 1) === 6 &&
                    matrix3.getCell(0, 2) === 9 &&
                    matrix3.getCell(1, 0) === 12 &&
                    matrix3.getCell(1, 1) === 15 &&
                    matrix3.getCell(1, 2) === 18 &&
                    matrix3.numberCols === matrix1.numberCols &&
                    matrix3.numberRows === matrix1.numberRows
                );
            }
        );
        matrixTest.start();


        /* start scalar multiplication test */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.SUCCESS_SCALAR_MULTIPLICATION_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var scalar  = 2.5;

                var matrix2 = matrix1.scalarMultiplication(scalar);

                return (
                    matrix2 instanceof Matrix &&
                    matrix2.getCell(0, 0) === 2.5 &&
                    matrix2.getCell(0, 1) === 5 &&
                    matrix2.getCell(0, 2) === 7.5 &&
                    matrix2.getCell(1, 0) === 10 &&
                    matrix2.getCell(1, 1) === 12.5 &&
                    matrix2.getCell(1, 2) === 15 &&
                    matrix2.numberCols === matrix1.numberCols &&
                    matrix2.numberRows === matrix1.numberRows
                );
            }
        );
        matrixTest.start();


        /* start transpose test */
        var matrixTest = new MatrixTest(
            testContainer,
            Matrix.SUCCESS_TRANSPOSE_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3],[4, 5, 6]]);
                var matrix2 = matrix1.transpose();

                return (
                    matrix2 instanceof Matrix &&
                    matrix2.getCell(0, 0) === 1 &&
                    matrix2.getCell(0, 1) === 4 &&
                    matrix2.getCell(1, 0) === 2 &&
                    matrix2.getCell(1, 1) === 5 &&
                    matrix2.getCell(2, 0) === 3 &&
                    matrix2.getCell(2, 1) === 6 &&
                    matrix2.numberCols === matrix1.numberRows &&
                    matrix2.numberRows === matrix1.numberCols
                );
            }
        );
        matrixTest.start();


        /* prints out the test result */
        MatrixTest.resultTest(testContainer);

    </script>
</body>
</html>