<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js-analysis - Matrix - Test</title>
    <script src="../sources/js/matrix.js"></script>
    <script src="../sources/js/matrixException.js"></script>
    <script src="../sources/js/matrixTest.js"></script>
</head>
<body>
    <script>


        /* start given rows are not an array */
        new MatrixTest(
            Matrix.ERROR_ROWS_IS_NO_ARRAY,
            function () {
                var matrix = new Matrix('test');
                console.log(matrix.array);
                return false;
            }
        );


        /* start given rows are not higher than 0 */
        new MatrixTest(
            Matrix.ERROR_ROWS_COUNT_ARRAY_WRONG,
            function () {
                var matrix = new Matrix([]);
                console.log(matrix.array);
                return false;
            }
        );


        /* given cols are not an array */
        new MatrixTest(
            Matrix.ERROR_COLS_IS_NO_ARRAY,
            function () {
                var matrix = new Matrix(['string']);
                console.log(matrix.array);
                return false;
            }
        );


        /* given cols are not an array */
        new MatrixTest(
            Matrix.ERROR_COLS_COUNT_ARRAY_WRONG,
            function () {
                var matrix = new Matrix([[], []]);
                console.log(matrix.array);
                return false;
            }
        );


        /* start wrong col number test */
        new MatrixTest(
            Matrix.ERROR_WRONG_COL_NUMBER,
            function () {
                var matrix = new Matrix([[1, 2], [2]]);
                console.log(matrix.array);
                return false;
            }
        );


        /* start initial test */
        new MatrixTest(
            Matrix.SUCCESS_INITIALIZE_MATRIX,
            function () {
                var matrix = new Matrix([[1, 2, 3], [4, 5, 6]]);
                return (
                    matrix.getCell(0, 0) === 1 &&
                    matrix.getCell(0, 1) === 2 &&
                    matrix.getCell(0, 2) === 3 &&
                    matrix.getCell(1, 0) === 4 &&
                    matrix.getCell(1, 1) === 5 &&
                    matrix.getCell(1, 2) === 6 &&
                    matrix.numberCols === 3 &&
                    matrix.numberRows === 2
                );
            }
        );


        /* start add test (wrong matrix type) */
        new MatrixTest(
            Matrix.ERROR_WRONG_MATRIX_TYPE,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = 1;
                /* this is not a matrix */

                var matrix3 = matrix1.add(matrix2);

                /* the method add should throw an exception */
                return false;
            }
        );


        /* start add test (wrong matrix dimension) */
        new MatrixTest(
            Matrix.ERROR_WRONG_MATRIX_DIMENSIONS,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4], [8, 10]]);
                /* this matrix has the wrong dimensions */

                var matrix3 = matrix1.add(matrix2);

                /* the method add should throw an exception */
                return false;
            }
        );


        /* start add test (correct) */
        new MatrixTest(
            Matrix.SUCCESS_ADDITION_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4, 6], [8, 10, 12]]);

                var matrix3 = matrix1.add(matrix2);

                return (
                    matrix3 instanceof Matrix &&
                    matrix3.getCell(0, 0) === 3 &&
                    matrix3.getCell(0, 1) === 6 &&
                    matrix3.getCell(0, 2) === 9 &&
                    matrix3.getCell(1, 0) === 12 &&
                    matrix3.getCell(1, 1) === 15 &&
                    matrix3.getCell(1, 2) === 18 &&
                    matrix3.numberCols === matrix1.numberCols &&
                    matrix3.numberRows === matrix1.numberRows
                );
            }
        );


        /* start add test (wrong matrix type) */
        new MatrixTest(
            Matrix.ERROR_WRONG_MATRIX_TYPE,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = 1;
                /* this is not a matrix */

                var matrix3 = matrix1.subtract(matrix2);

                /* the method add should throw an exception */
                return false;
            }
        );


        /* start add test (wrong matrix dimension) */
        new MatrixTest(
            Matrix.ERROR_WRONG_MATRIX_DIMENSIONS,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4], [8, 10]]);
                /* this matrix has the wrong dimensions */

                var matrix3 = matrix1.subtract(matrix2);

                /* the method add should throw an exception */
                return false;
            }
        );


        /* start add test (correct) */
        new MatrixTest(
            Matrix.SUCCESS_SUBTRACTION_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4, 6], [8, 10, 12]]);

                var matrix3 = matrix1.subtract(matrix2);

                return (
                    matrix3 instanceof Matrix &&
                    matrix3.getCell(0, 0) === -1 &&
                    matrix3.getCell(0, 1) === -2 &&
                    matrix3.getCell(0, 2) === -3 &&
                    matrix3.getCell(1, 0) === -4 &&
                    matrix3.getCell(1, 1) === -5 &&
                    matrix3.getCell(1, 2) === -6 &&
                    matrix3.numberCols === matrix1.numberCols &&
                    matrix3.numberRows === matrix1.numberRows
                );
            }
        );


        /* start scalar multiplication test (no scalar) */
        new MatrixTest(
            Matrix.ERROR_NO_SCALAR,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[2, 4, 6], [8, 10, 12]]);

                var matrix3 = matrix1.scalarMultiplication(matrix2);

                return (
                    matrix3 instanceof Matrix &&
                    matrix3.getCell(0, 0) === 3 &&
                    matrix3.getCell(0, 1) === 6 &&
                    matrix3.getCell(0, 2) === 9 &&
                    matrix3.getCell(1, 0) === 12 &&
                    matrix3.getCell(1, 1) === 15 &&
                    matrix3.getCell(1, 2) === 18 &&
                    matrix3.numberCols === matrix1.numberCols &&
                    matrix3.numberRows === matrix1.numberRows
                );
            }
        );


        /* start scalar multiplication test */
        new MatrixTest(
            Matrix.SUCCESS_SCALAR_MULTIPLICATION_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var scalar = 2.5;

                var matrix2 = matrix1.scalarMultiplication(scalar);

                return (
                    matrix2 instanceof Matrix &&
                    matrix2.getCell(0, 0) === 2.5 &&
                    matrix2.getCell(0, 1) === 5 &&
                    matrix2.getCell(0, 2) === 7.5 &&
                    matrix2.getCell(1, 0) === 10 &&
                    matrix2.getCell(1, 1) === 12.5 &&
                    matrix2.getCell(1, 2) === 15 &&
                    matrix2.numberCols === matrix1.numberCols &&
                    matrix2.numberRows === matrix1.numberRows
                );
            }
        );


        /* start transpose test */
        new MatrixTest(
            Matrix.SUCCESS_TRANSPOSE_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = matrix1.transpose();

                return (
                    matrix2 instanceof Matrix &&
                    matrix2.getCell(0, 0) === 1 &&
                    matrix2.getCell(0, 1) === 4 &&
                    matrix2.getCell(1, 0) === 2 &&
                    matrix2.getCell(1, 1) === 5 &&
                    matrix2.getCell(2, 0) === 3 &&
                    matrix2.getCell(2, 1) === 6 &&
                    matrix2.numberCols === matrix1.numberRows &&
                    matrix2.numberRows === matrix1.numberCols
                );
            }
        );


        /* start matrix multiplication test (wrong matrix dimension) */
        new MatrixTest(
            Matrix.ERROR_WRONG_MATRIX_DIMENSIONS,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[1], [2]]);
                var matrix3 = matrix1.multiply(matrix2);

                /* the method add should throw an exception */
                return false;
            }
        );


        /* start matrix multiplication test */
        new MatrixTest(
            Matrix.SUCCESS_MULTIPLICATION_TEST,
            function () {
                var matrix1 = new Matrix([[1, 2, 3], [4, 5, 6]]);
                var matrix2 = new Matrix([[1], [2], [3]]);
                var matrix3 = matrix1.multiply(matrix2);

                return (
                    matrix3 instanceof Matrix &&
                    matrix3.getCell(0, 0) === 14 &&
                    matrix3.getCell(1, 0) === 32 &&
                    matrix3.numberCols === 1 &&
                    matrix3.numberRows === 2
                );
            }
        );


        /* prints out the test result */
        MatrixTest.resultTest();



        var matrix = new Matrix([[1, 2, 3, 4, 0], [5, 6, 7, 8, 7], [9, 1, 2, 3, 8], [4, 5, 9, 7, -1], [7, 8, -2, -5, -3]]);
        console.log(matrix.determinant());


    </script>
</body>
</html>